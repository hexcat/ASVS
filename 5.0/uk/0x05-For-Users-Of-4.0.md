# Зміни порівняно з версією 4.x

## Вступ

Користувачам, знайомим із 4.x версією стандарту, може бути корисно ознайомитися з основними змінами, запровадженими у версії 5.0, зокрема оновленнями змісту, обсягу та базової філософії.

З 286 вимог, що містилися у версії 4.0.3, лише 11 залишилися без змін, ще 15 зазнали незначних граматичних коригувань без впливу на зміст. Загалом 109 вимог (38 %) більше не представлені як окремі у версії 5.0: 50 було просто вилучено, 28 усунуто як дублікати, а 31 об’єднано з іншими вимогами. Решта були переглянуті у тій чи іншій формі. Навіть ті вимоги, які не були суттєво змінені, мають нові ідентифікатори через оновлену структуру або порядок.

Для полегшення переходу на версію 5.0 надаються документи зіставлення, що допомагають простежити відповідність між вимогами версій 4.x та 5.0. Ці зіставлення не є жорстко прив’язаними до конкретних релізів і можуть оновлюватися або уточнюватися за потреби.

## Філософія вимог

### Обсяг та фокус

У версії 4.x були присутні вимоги, що не відповідали передбаченому обсягу стандарту; їх було вилучено. Також були виключені вимоги, які не відповідали критеріям обсягу для версії 5.0 або не підлягали перевірці.

### Акцент на цілях безпеки, а не на механізмах

У версії 4.x багато вимог були зосереджені на конкретних механізмах замість того, щоб бути орієнтованими на основні цілі безпеки. У версії 5.0 вимоги побудовані навколо саме цілей безпеки; конкретні механізми згадуються лише у випадках, коли вони є єдиним практичним рішенням, або подаються як приклади чи додаткові рекомендації.

Такий підхід визнає, що існує кілька способів досягнення певної цілі безпеки, та уникає зайвої нормативності, яка могла б обмежити гнучкість організацій.

Також були об’єднані вимоги, що стосуються однієї й тієї ж проблеми безпеки, де це було доцільно.

### Документовані рішення у сфері безпеки

Хоча концепція документованих рішень у сфері безпеки може здатися новою у версії 5.0, вона є логічним продовженням попередніх вимог, пов’язаних із застосуванням політик і моделюванням загроз у версії 4.0. Раніше деякі вимоги неявно передбачали проведення аналізу для обґрунтування впровадження механізмів захисту таких як, визначення допустимих мережевих з’єднань.

Щоб забезпечити наявність необхідної інформації для впровадження та верифікації, ці очікування тепер чітко визначені як вимоги до документації, що робить їх прозорими, практичними та такими, що піддаються перевірці.

## Структурні зміни та нові розділи

У версії 5.0 додано кілька розділів із повністю новим змістом:

* OAuth та OIDC – з огляду на широке впровадження цих протоколів для делегування доступу та єдиного входу (SSO), додано окремі вимоги, які охоплюють різноманітні сценарії, з якими можуть стикатися розробники. У перспективі цей розділ може еволюціонувати в окремий стандарт, подібно до того, як раніше були виділені вимоги до мобільних застосунків і IoT.
* WebRTC – у зв’язку зі зростаючою популярністю цієї технології, її унікальні виклики та міркування безпеки тепер охоплено окремим підрозділом.

Також було докладено зусиль, щоб розділи та підрозділи були структуровані навколо логічно пов’язаних груп вимог.

Ця реструктуризація призвела до створення додаткових розділів:

* Самодостатні токени – раніше об’єднані в розділі управління сесіями, самодостатні токени тепер визнані окремим механізмом і фундаментальним елементом безстанового обміну даними (наприклад, у OAuth та OIDC). Через їхні унікальні аспекти безпеки вони розглядаються в окремому розділі, де у версії 5.x було запроваджено деякі нові вимоги.
* Безпека веб-фронтенду – з огляду на зростаючу складність браузерних застосунків та поширення архітектур, що базуються виключно на API, вимоги до безпеки фронтенду винесено в окремий розділ.
* Безпечне програмування та архітектура – нові вимоги, що охоплюють загальні практики безпеки, які не вписувалися у існуючі розділи, зібрані тут.

Інші організаційні зміни у версії 5.0 були спрямовані на покращення прозорості намірів. Наприклад, вимоги щодо валідації вхідних даних було перенесено до розділу, присвяченого бізнес-логіці, що відображає їхню роль у забезпеченні дотримання бізнес-правил, замість того, щоб групувати їх з санітизацією та кодуванням.

Раніше існуючий розділ V1 Архітектура було вилучено. Його початкові підрозділи містили вимоги, що виходили за межі сфери стандарту, а наступні частини були розподілені по відповідних розділах, причому дублікати вимог було усунуто та за потреби уточнено.

## Вилучення прямих відповідностей до інших стандартів

Прямі відповідності до інших стандартів було вилучено з основної частини стандарту. Метою є підготовка відповідності через проєкт OWASP Common Requirement Enumeration (CRE), який, в свою чергу, забезпечить зв’язок ASVS із низкою OWASP проєктів та зовнішніх стандартів.

Прямі відповідності до CWE та NIST більше не підтримуються, відповідні пояснення наведено нижче.

### Зменшення залежності від NIST настанов щодо цифрової ідентифікації

Настанова [Digital Identity Guidelines (SP 800-63)](https://pages.nist.gov/800-63-3/) від NIST тривалий час слугувала джерелом посилань для контролів автентифікації та авторизації. У версії 4.x окремі розділи були тісно узгоджені зі структурою та термінологією NIST.

Попри те, що ці настанови залишаються важливим орієнтиром, суворе узгодження створювало низку ускладнень, зокрема використання менш загальновживаної термінології, дублювання подібних вимог і неповні відповідності. Версія 5.0 відходить від такого підходу з метою підвищення ясності та релевантності.

### Відмова від прямого узгодження з Common Weakness Enumeration (CWE)

[Common Weakness Enumeration (CWE)](https://cwe.mitre.org/) є корисною таксономією слабких місць у сфері безпеки програмного забезпечення. Проте низка проблем, таких як існування CWE, що описують лише категорії, складнощі з однозначним узгодженням вимог із конкретним CWE, а також наявність неточних відповідностей у версії 4.x призвела до рішення припинити використання прямих відповідностей до CWE у версії 5.0.

## Перегляд визначень рівнів

У версії 4.x рівні визначалися як L1 ("Мінімальний"), L2 ("Стандартний") та L3 ("Розширений"), з припущенням, що всі застосунки, які обробляють чутливі дані, мають відповідати щонайменше рівню L2.

У версії 5.0 розглянуто низку проблем, пов’язаних із цим підходом; вони описані в наступних абзацах.

З практичного боку, якщо у версії 4.x для позначення рівнів використовувалися позначки, то у версії 5.x використовується просте числове позначення для всіх форматів стандарту, включаючи Markdown, PDF, DOCX, CSV, JSON та XML. З метою збереження зворотної сумісності також генеруються застарілі версії у форматах CSV, JSON та XML, які продовжують використовувати позначки.

### Полегшений рівень входу

Зворотний зв’язок показав, що велика кількість вимог Рівня 1 (~120), у поєднанні з тим, що цей рівень визначався як "мінімальний", який не підходить для більшості застосунків, відлякувала від впровадження стандарту. Версія 5.0 має на меті знизити цей бар’єр, визначаючи Рівень 1 переважно як набір вимог до першого рівня захисту, що призводить до більш чітких і меншої кількості вимог на цьому рівні. Для ілюстрації числових змін: у версії 4.0.3 було 128 вимог L1 із загальної кількості 278, що становило 46%. У версії 5.0.0 було 70 вимог L1 із 345 загалом, що становить 20%.

### Логічна хиба тестованості

Ключовим фактором при виборі контролів для Рівня 1 у версії 4.x була їхня придатність для оцінки за допомогою зовнішнього "black boх" тестування на проникнення. Однак цей підхід не повністю відповідав призначенню Рівня 1 як мінімального набору заходів безпеки. Деякі користувачі вважали, що Рівень 1 недостатній для захисту застосунків, тоді як інші вважали його надто складним для тестування.

Опора на тестованість як критерій є відносною і часом оманливою. Той факт, що вимога є тестованою, не гарантує, що її можна перевірити автоматизовано або простим способом. Ба більше, найпростіше тестовані вимоги не завжди мають найбільший вплив на безпеку чи є найпростішими для впровадження.

Тому у версії 5.0 рішення щодо рівнів приймалися перш за все з огляду на зниження ризиків, а також з урахуванням витрат ресурсів на впровадження.

### Не лише про ризик

Використання жорстких рівнів, заснованих на ризиках, які зобов’язують застосовувати певний рівень для конкретних застосунків, виявилося надмірно жорстким. На практиці пріоритетність і впровадження заходів безпеки залежать від багатьох факторів, включно з оцінкою ризиків та зусиллями, необхідними для реалізації.

Тому організаціям рекомендується досягати того рівня, який вони вважають за потрібне, враховуючи власний рівень зрілості та основний посил, який вони хочуть донести користувачам.
